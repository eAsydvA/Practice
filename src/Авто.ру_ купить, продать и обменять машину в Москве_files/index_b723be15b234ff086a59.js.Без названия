(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[826],{19046:(e,t,r)=>{"use strict";r.d(t,{JR:()=>o,ZP:()=>l});r(911);var s=r(98784),n=r.n(s);function a(e){return({image:t,maxDevicePixelRatioValue:r=2,width:s})=>{const a=null==t?void 0:t.sizes;if(!a||n().isEmpty(a))return;return Object.keys(e).map((t=>({name:t,x:Number((e[t].width/s).toFixed(1)),url:a[t]}))).filter((({url:e,x:t})=>!!e&&(t-1>.3&&t<=r))).sort(((e,t)=>e.x-t.x)).reduce(((e,t)=>{const r=e[e.length-1];return r&&t.x-r.x<.3&&e.pop(),e.push(t),e}),[]).map((({url:e,x:t})=>`${e.replace(/^\/\//,"https://")} ${t}x`)).join(",")}}const i=a({"92x69":{width:92,height:69},small:{width:120,height:90},"120x90":{width:120,height:90},wizardv3:{width:169,height:127},thumb_s:{width:205,height:154},thumb_m:{width:280,height:210},wizardv3mr:{width:300,height:240},"320x240":{width:320,height:240},islandoff:{width:360,height:270},thumb_s_2x:{width:410,height:308},full:{width:456,height:342},"456x342":{width:456,height:342},"456x342n":{width:456,height:342},cattouch:{width:640,height:480},"832x624":{width:832,height:624},image:{width:889,height:667},cattouchret:{width:1024,height:768},auto_main:{width:1050,height:650},orig:{width:1200,height:900},"1200x900":{width:1200,height:900},"1200x900n":{width:1200,height:900}}),o=a({"320x320":{width:320,height:180},"338x338":{width:338,height:190},"439x439":{width:439,height:247},"460x460":{width:460,height:259},"571x571":{width:571,height:321},"650x650":{width:650,height:366},"845x845":{width:845,height:475},"1098x1098":{width:1098,height:618},"1200x1200":{width:1200,height:675},"1252x1252":{width:1252,height:704},"1428x1428":{width:1428,height:803},"1600x1600":{width:1600,height:900},"1920x1920":{width:1920,height:1080},optimize:{width:1920,height:1080},orig:{width:1920,height:1080}}),l=i},54862:(e,t,r)=>{const s=r(96831);function n(e){return{value:e,label:s.number.format(e,null," ")+" ₽"}}const a=[];for(let e=1e4;e<3e5;e+=1e4)a.push(n(e));for(let e=3e5;e<1e6;e+=5e4)a.push(n(e));for(let e=1e6;e<3e6;e+=1e5)a.push(n(e));for(let e=3e6;e<1e7;e+=5e5)a.push(n(e));for(let e=1e7;e<=3e8;e+=1e7)a.push(n(e));e.exports=a},97646:(e,t,r)=>{const s=r(98784);function n(e,t){return e.name<t.name?-1:e.name===t.name?0:1}function a(e,t){return i(e)?-1:i(t)?1:n(e,t)}function i(e){return"VAZ"===e.id||"VAZ"===e.val||"lada"===e.alias}function o(e){return i(e)?Number.NEGATIVE_INFINITY:-e.count}e.exports={isVAZ:i,sortMarks:function(e){return e.sort(n)},sortPopularMarks:function(e,t){return s.sortBy(e,o).slice(0,t).sort(a)}}},14561:(e,t,r)=>{"use strict";r.d(t,{Z:()=>k});r(14078);var s=r(87363),n=r.n(s),a=r(32373),i=r(83225),o=r(42227),l=r(51254),c=r(7231),d=r(22586),m=r.n(d),h=r(86925),u=r(99817),p=r(22012),_=r(97584),E=r(21446),g=r.n(E),R=r(51973),I=r.n(R),T=r(46886),S=r(25341);const x=r(18146);class CreditFilterWithTooltipsDumb extends n().PureComponent{componentDidCatch(e,t){x(e,t)}constructor(...e){var t,r,s;super(...e),s=()=>n().createElement("div",{className:"CreditFilterWithTooltips__tooltipContent"},n().createElement(T.ZP,{size:T.$u.SIZE_28,creditProducts:this.props.creditProducts,banks:this.props.banks,countLimit:3,className:"CreditFilterWithTooltips__productIcons"}),n().createElement("div",{className:"CreditFilterWithTooltips__popupText"},"Подбирайте автомобиль по",S.nbsp,"платежу в",S.nbsp,"месяц",n().createElement("br",null),"и",S.nbsp,"оформляйте кредит прямо на",S.nbsp,"Авто.ру",n().createElement("br",null)),n().createElement(I(),{className:"CreditFilterWithTooltips__tooltipLink",onClick:this.props.onCheckLimitClick},"Узнайте кредитный лимит")),(r="renderTooltipContent")in(t=this)?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s}render(){const{children:e}=this.props;return n().createElement(_.Z,{tooltipContent:this.renderTooltipContent,directions:g().DIRECTIONS.TOP_CENTER,popupTheme:g().THEME.LIGHT},n().createElement("div",null,e))}}const C=CreditFilterWithTooltipsDumb,N=r(18146);const f=(0,a.connect)((e=>{var t,r,s;return{creditProducts:null===(t=(0,l.Z)(e))||void 0===t||null===(r=t.data)||void 0===r?void 0:r.credit_products,banks:null===(s=(0,c.Z)(e))||void 0===s?void 0:s.data,params:(0,i.getCurrentRouteParams)(e),gids:m()(e),user:(0,h.Z)(e),isAuth:(0,u.Z)(e),isClient:(0,p.Z)(e)}}),{openCreditApplicationFormModal:o.Z});class CreditFilterWithTooltips extends n().PureComponent{componentDidCatch(e,t){N(e,t)}constructor(...e){var t,r,s;super(...e),s=()=>{this.props.openCreditApplicationFormModal()},(r="handleCheckLimitClick")in(t=this)?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s}render(){const{banks:e,children:t,creditProducts:r}=this.props;return e&&r?n().createElement(C,{banks:e,creditProducts:r,onCheckLimitClick:this.handleCheckLimitClick},t):t}}const k=f(CreditFilterWithTooltips)},66457:(e,t,r)=>{const s=r(18146);r(75986);const n=r(96831),a=r(87363),i=r(23615),o=r(66152),l=r(51973),c=r(72591),d=r(45556),m=n.jpath.expr(".mark.name"),h=n.jpath.string("{ .model.name } { .super_gen.name }");class IndexSearchHistoryItemDescription extends a.PureComponent{componentDidCatch(e,t){s(e,t)}render(){const{index:e,item:t}=this.props,r=function(e){const t={};e.forEach((e=>{const r=m(e).trim();t[r]||(t[r]=[]),t[r].push(e)}));const r=[];for(const e in t)r.push(t[e]);return r}(n.jpath(".view.mark_model_nameplate_gen_views",t)||[]);let s,i,h;if(1===r.length&&(s=n.jpath(".mark.logo.sizes.logo",r[0][0])),i=s?a.createElement("img",{className:"IndexSearchHistoryItemDescription__icon-image",src:s}):a.createElement(o,{id:d}),i=a.createElement("div",{className:"IndexSearchHistoryItemDescription__icon"},i),t.title)h=t.title;else{const e=n.jpath(".params.catalog_filter",t)||[],s=n.jpath(".params.exclude_catalog_filter",t)||[];let a=r.map(this.getGroupTitleUntilBackendInProgress(e)).filter(Boolean).join(", "),i=r.map(this.getGroupTitleUntilBackendInProgress(s)).filter(Boolean).join(", ");a||(a="Все марки"),i&&(i=`, кроме ${i}`),h=a+i}let p=(n.jpath(".view.regions.name",t)||[]).join(", ")||"Любой регион";(n.jpath(".paramsDescription.paramsInfo",t)||[]).forEach((e=>{(e.label||e.val)&&(p+=", ",e.label&&(p+=u(e.label)+": "),e.val&&(p+=u(e.val)))}));const _=n.jpath(".paramsDescription.moreCount",t);return _>0&&(p+=" +"+c(_,["параметр","параметра","параметров"])),a.createElement("div",{className:"IndexSearchHistoryItemDescription"},i,a.createElement("div",{className:"IndexSearchHistoryItemDescription__description"},a.createElement(l,{className:"IndexSearchHistoryItemDescription__title",metrika:`previous-searches,${e}`,title:h+" "+p,url:t.url},h,a.createElement("div",{className:"IndexSearchHistoryItemDescription__clicker"})),a.createElement("div",{className:"IndexSearchHistoryItemDescription__subtitle"},p)))}getGroupTitleUntilBackendInProgress(e){return t=>{let r="";return e.find((e=>e.mark===n.jpath(".mark.code",t[0])))&&(r=m(t[0])),r+=" "+t.map((t=>{if(e.find((e=>e.model===n.jpath(".model.code",t)&&e.generation===n.jpath(".super_gen.id",t))))return h(t).trim()})).filter(Boolean).join(", "),r.trim()}}}function u(e){return String(e).split(/\s+/).map((e=>e.toUpperCase()===e&&e.length>1?e:e.toLowerCase())).join(" ")}IndexSearchHistoryItemDescription.contextTypes={link:i.func},e.exports=IndexSearchHistoryItemDescription},13248:(e,t,r)=>{const s=r(18146);r(64647);const n=r(87363),a=r(23615),i=r(51973);class IndexSuperMark extends n.PureComponent{componentDidCatch(e,t){s(e,t)}render(){const{item:e,url:t}=this.props;return n.createElement(i,{className:"IndexSuperMark",metrika:`mark-click-logo,${e.id}`,title:e.name,url:t},n.createElement("img",{className:"IndexSuperMark__image",src:e["big-logo"]}))}}IndexSuperMark.contextTypes={link:a.func},e.exports=IndexSuperMark},40702:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var s=r(32373),n=r(83225),a=r(66371),i=r(17151);const o={updateSearchID:a.Z},l=(0,s.connect)((e=>({offer:e.card,pageParams:(0,n.getCurrentRouteParams)(e),referrer:(0,n.getPreviousRouteUrl)(e)})),o)(i.Z)},39149:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});r(14078);var s=r(81649);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class CreditCheckboxOrTagFilter extends s.Z{constructor(...e){super(...e),n(this,"name","on_credit"),n(this,"value",!0),n(this,"inactiveValue",!1),n(this,"text","В кредит")}}const a=CreditCheckboxOrTagFilter},91310:(e,t,r)=>{const s=r(18146),n=r(87363),a=r(66349),i=r(97828);class SectionFilter extends n.PureComponent{componentDidCatch(e,t){s(e,t)}render(){const{onChange:e,size:t,value:r,view:s}=this.props;return n.createElement(i,{equal:i.EQUAL.PADDING,name:"section",size:t,type:i.TYPE.BUTTON,value:r,view:s,onChange:e},n.createElement(a,{value:"all"},"Все"),n.createElement(a,{value:"new"},"Новые"),n.createElement(a,{value:"used"},"С пробегом"))}}SectionFilter.SIZE=i.SIZE,SectionFilter.VIEW=i.VIEW,SectionFilter.defaultProps={size:SectionFilter.SIZE.M},e.exports=SectionFilter},90510:(e,t,r)=>{const s=r(18146);const n=r(87363),a=r(98784),i=r(60042);r(16361);const o=16,l=r(70399);class RangeSlider extends n.PureComponent{componentDidCatch(e,t){s(e,t)}constructor(e){var t,r,s;super(e),s=(e,t)=>{const{fromLabelPrefix:r,items:s,toLabelPrefix:n}=this.props,a=this.findItemByValue(e)||s[0],i=this.findItemByValue(t)||s[s.length-1],o={fromLabel:r+a.label,fromPos:a.pos||null,toLabel:n+i.label,toPos:i.pos||null};return{...o,...this.getLabelsPosition(o)}},(r="getStateFromValues")in(t=this)?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,this.state={prevItems:[]},this.rootRef=n.createRef(),this.fakeLabelRef=n.createRef(),this.onChange=this.onChange.bind(this),this.onMoveChange=this.onMoveChange.bind(this),this.labelsWidth={}}static getDerivedStateFromProps(e,t){const r=e.items,s=r[0],n=r[r.length-1];return a.isEqual(t.prevItems,r)?null:{fromLabel:e.fromLabelPrefix+s.label,fromLabelPos:null,toLabel:e.toLabelPrefix+n.label,toLabelPos:null,prevItems:e.items,labelPosition:e.labelPosition}}componentDidMount(){const{fromValue:e,toValue:t}=this.props;void 0===e&&void 0===t||this.setState({...this.getStateFromValues(e,t)})}render(){const{fromValue:e,items:t,labelPosition:r,toValue:s}=this.props,{fromLabel:a,fromLabelPos:o,toLabel:c,toLabelPos:d}=this.state,m=void 0!==e?e:t[0].value,h=void 0!==s?s:t[t.length-1].value,u=i("RangeSlider",`RangeSlider_label_${r}`);return n.createElement("div",{className:u,ref:this.rootRef},n.createElement(l,{items:t,size:l.SIZE.M,onChange:this.onChange,onMoveChange:this.onMoveChange,type:l.TYPE.DOUBLE,fromValue:m,toValue:h}),n.createElement("div",{className:"RangeSlider__content"},n.createElement("div",{className:"RangeSlider__label RangeSlider__label_from",style:{left:o}},a),n.createElement("div",{className:"RangeSlider__label RangeSlider__label_to",style:{left:d}},c),n.createElement("div",{className:"RangeSlider__label RangeSlider__label_fake",ref:this.fakeLabelRef})))}onChange(e){this.onMoveChange(e),this.props.onChange(e)}onMoveChange(e){const{fromLabelPrefix:t,toLabelPrefix:r}=this.props,s=this.findItemByValue(e.from),n=this.findItemByValue(e.to),a={fromLabel:t+s.label,fromPos:s.pos,toLabel:r+n.label,toPos:n.pos};Object.assign(a,this.getLabelsPosition(a)),this.setState(a)}getLabelsPosition(e){const t=this.getLabelWidth(e.fromLabel),r=this.getLabelWidth(e.toLabel),s=this.rootRef.current.offsetWidth-32,n=e.fromPos*s/100,a=e.toPos*s/100;let i=n-t;i<-16&&(i=n-o),i+t+r+10>s+o&&(i=s-(t+r+10)+o);let l=a;return l+r>s+o&&(l=a+o-r),i+t+10>l&&(l=i+t+10),{fromLabelPos:`${i}px`,toLabelPos:`${l}px`}}getLabelWidth(e){let t=this.labelsWidth[e];return t||(this.fakeLabelRef.current.textContent=e,t=this.labelsWidth[e]=this.fakeLabelRef.current.clientWidth),t}findItemByValue(e){const{items:t}=this.props,r=t.findIndex((t=>t.value===e));return r>-1?{pos:100*r/(t.length-1),value:t[r].value,label:t[r].label}:null}}RangeSlider.LABEL_POSITION={TOP:"top",BOTTOM:"bottom"},RangeSlider.defaultProps={fromLabelPrefix:"",toLabelPrefix:"",labelPosition:"bottom",onChange:function(){}},e.exports=RangeSlider},20696:(e,t,r)=>{const{createSelector:s}=r(45683),n=r(96831);e.exports=s([e=>((e.journalWidget||{}).articles||[]).map((e=>({src:n.jpath(".images.320x320",e),title:e.title,id:e.id})))],(e=>e))},67841:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var s=r(65542),n=r.n(s),a=r(97012);const i=()=>(e,t)=>{const r=t(),s=n()(r),i={section:s.section,sort:s.sort,category:s.category,moto_category:s.moto_category,trucks_category:s.trucks_category,dealer_code:s.dealer_code,dealer_id:s.dealer_id};return e((0,a.Z)(i)),i}},97012:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(41968),n=r.n(s);const a=e=>({type:n().LISTING_CHANGE_PARAMS,payload:e})},49624:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(41968),n=r.n(s);const a=e=>t=>e&&t({type:n().SHOW_CREDIT_POPUP,payload:!0})},43187:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});const s=e=>{var t,r,s;return null===(t=e.content.find((e=>"IMAGE"===e.type)))||void 0===t||null===(r=t.content_value)||void 0===r||null===(s=r[0])||void 0===s?void 0:s.image_url}},39271:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(91729),n=r.n(s);function a(e=[],t){const r=e.length;if(r){const s=e[r-1].count;if(t===s||t>s)return;return`ещё ${n()(s-t)} в других городах`}}},58422:(e,t,r)=>{const s=r(96831),n=r(42139);e.exports=e=>{const t=n(e);return s.jpath(".category",t)}},41979:(e,t,r)=>{const s=r(96831),n=r(42139);e.exports=e=>{const t=n(e);return s.jpath(".sub_category",t)}},92637:(e,t,r)=>{const s=r(96831),n=r(42139);e.exports=e=>{const t=n(e);return s.jpath(".super_gen",t)}},86527:(e,t,r)=>{const s=r(10128),n=r(92637),a=r(96029),i=r(34978),o=r(58422),l=r(41979);e.exports=e=>{const t=n(e)||{};return{reviewId:s(e),super_gen:t&&t.id,mark:a(e),model:i(e),parent_category:o(e).toLowerCase(),category:l(e)}}},76651:(e,t)=>{"use strict";t.cp=t.Xg=t.ab=t.ci=t.ZM=void 0,function(e){e.NEW="NEW",e.USED="USED",e.BEATEN="BEATEN",e.UNRECOGNIZED="UNRECOGNIZED"}(t.ZM||(t.ZM={})),function(e){e.LISTING="LISTING",e.SUBSCRIPTION="SUBSCRIPTION",e.DEALER_OFFERS="DEALER_OFFERS",e.UNRECOGNIZED="UNRECOGNIZED"}(t.ci||(t.ci={})),function(e){e.OFFICIAL_DEALER="OFFICIAL_DEALER",e.OFFICIAL_SERVICE_CENTER="OFFICIAL_SERVICE_CENTER",e.UNRECOGNIZED="UNRECOGNIZED"}(t.ab||(t.ab={})),function(e){e.UNKNOWN_REPORT_STATUS="UNKNOWN_REPORT_STATUS",e.CHECKED="CHECKED",e.GRAY_REPORTS="GRAY_REPORTS",e.RED_REPORTS="RED_REPORTS",e.NO_REPORTS="NO_REPORTS",e.WITH_HISTORY="WITH_HISTORY",e.WITHOUT_HISTORY="WITHOUT_HISTORY",e.WITH_MISMATCHED_MILEAGE="WITH_MISMATCHED_MILEAGE",e.UNRECOGNIZED="UNRECOGNIZED"}(t.Xg||(t.Xg={})),function(e){e.TRUCK_TRAILER_UNKNOWN="TRUCK_TRAILER_UNKNOWN",e.ADVERTIZING="ADVERTIZING",e.ASSORTMENT_CARRIER="ASSORTMENT_CARRIER",e.AWNING="AWNING",e.BEAM_CARRIER="BEAM_CARRIER",e.BIRDS_TRANSPORT="BIRDS_TRANSPORT",e.BITUMEN_CARRIER="BITUMEN_CARRIER",e.CABLE_CART="CABLE_CART",e.CATTLE_TRANSPORT="CATTLE_TRANSPORT",e.CONTAINER_CARRIER="CONTAINER_CARRIER",e.DISSOLUTION="DISSOLUTION",e.DUMPING="DUMPING",e.FLUSHER="FLUSHER",e.FOR_CAR="FOR_CAR",e.GAS_TRANSPORT="GAS_TRANSPORT",e.HORSE_CARRIER="HORSE_CARRIER",e.LOW_FRAME="LOW_FRAME",e.MOTO_TRANSPORT="MOTO_TRANSPORT",e.ONBOARD="ONBOARD",e.PODKATNY_CART="PODKATNY_CART",e.REFRIGERATOR="REFRIGERATOR",e.SNOWMOBILE_TRANSPORT="SNOWMOBILE_TRANSPORT",e.TANK="TANK",e.TENT="TENT",e.TRAILER="TRAILER",e.VAN="VAN",e.VEHICLE_TRANSPORT="VEHICLE_TRANSPORT",e.WATER_EQUIPMENT_TRANSPORT="WATER_EQUIPMENT_TRANSPORT",e.ST_ASSORTMENT="ST_ASSORTMENT",e.ST_AUTOTRANSPORTER="ST_AUTOTRANSPORTER",e.ST_BIRDS_TRANSPORT="ST_BIRDS_TRANSPORT",e.ST_BITUMEN_CARRIER="ST_BITUMEN_CARRIER",e.ST_CATTLE_TRANSPORT="ST_CATTLE_TRANSPORT",e.ST_CEMENT_CARRIER="ST_CEMENT_CARRIER",e.ST_CONCRETE_MIXER="ST_CONCRETE_MIXER",e.ST_CONTAINER_CARRIER="ST_CONTAINER_CARRIER",e.ST_CURTAIN="ST_CURTAIN",e.ST_DISSOLUTION="ST_DISSOLUTION",e.ST_DUMPING="ST_DUMPING",e.ST_FARM_CARRIER="ST_FARM_CARRIER",e.ST_FEED_CARRIER="ST_FEED_CARRIER",e.ST_GAS_TRANSPORT="ST_GAS_TRANSPORT",e.ST_GLASS_CARRIER="ST_GLASS_CARRIER",e.ST_GRAIN_CARRIER="ST_GRAIN_CARRIER",e.ST_HEAVY="ST_HEAVY",e.ST_ISOTHERMAL="ST_ISOTHERMAL",e.ST_LOOSE_CARGO_TRANSPORT="ST_LOOSE_CARGO_TRANSPORT",e.ST_LOW_FRAME_TRAWL="ST_LOW_FRAME_TRAWL",e.ST_ONBOARD="ST_ONBOARD",e.ST_PANEL_CARRIER="ST_PANEL_CARRIER",e.ST_REFRIGERATOR="ST_REFRIGERATOR",e.ST_SLIDING="ST_SLIDING",e.ST_SPECIAL="ST_SPECIAL",e.ST_SPLINT_CARRIER="ST_SPLINT_CARRIER",e.ST_TANK="ST_TANK",e.ST_TIMBER_CARRIER="ST_TIMBER_CARRIER",e.ST_TOW_TRUCK="ST_TOW_TRUCK",e.ST_VAN="ST_VAN",e.HIGH_FRAME_TRAWL="HIGH_FRAME_TRAWL",e.ST_HIGH_FRAME_TRAWL="ST_HIGH_FRAME_TRAWL",e.OVERPASS="OVERPASS",e.MOTO_TRAILER="MOTO_TRAILER",e.BULK_CARGO="BULK_CARGO",e.CONTAINER_TANK="CONTAINER_TANK",e.ISOTHERMAL="ISOTHERMAL",e.SB_TARPAULIN="SB_TARPAULIN",e.SB_PLATFORM="SB_PLATFORM",e.SB_REFRIGERATOR="SB_REFRIGERATOR",e.SB_VAN="SB_VAN",e.SPECIAL="SPECIAL",e.ST_CURTAIN_ONBOARD="ST_CURTAIN_ONBOARD",e.ST_METAL_CARRIER="ST_METAL_CARRIER",e.ST_CARCASE="ST_CARCASE",e.GRAIN_CARRIER="GRAIN_CARRIER",e.SPLINT_CARRIER="SPLINT_CARRIER",e.METAL_CARRIER="METAL_CARRIER",e.SHOP_TRAILER="SHOP_TRAILER",e.SEMI_TRAILER_TRACTOR="SEMI_TRAILER_TRACTOR",e.TRAILER_TRACTOR="TRAILER_TRACTOR",e.UNRECOGNIZED="UNRECOGNIZED"}(t.cp||(t.cp={}))},53291:(e,t,r)=>{r(14078);const s=r(58241).Z,n=r(87363),{connect:a}=r(32373),{getCurrentRouteName:i}=r(83225),o=r(38803).Z,l=r(74367).Z,c=r(67193).ZP;e.exports=a(((e,t)=>({config:e.config.data,pageType:i(e),pageParams:t.params})))(class AppIndex extends s{constructor(){var e,t,r;super(...arguments),r=()=>n.createElement(o,{pageParams:this.props.pageParams}),(t="renderTopNavigationLeft")in(e=this)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,c.set(this.props.pageParams)}renderChildren(){return n.createElement(n.Fragment,null,n.createElement(l,{layoutClassName:"Layout_page_index",key:"TopNavigation",background:"white",bottomMargin:!0,left:this.renderTopNavigationLeft}),n.createElement("div",{className:"Layout_page_index",id:"LayoutIndex"},this.props.children))}})},63336:(e,t,r)=>{const s=r(18146);const n=r(23615),a=r(87363),{ContextPage:i,SearchShowEvent_ListingSection:o}=r(36520),l=r(97496).Z,{AdPlace:c}=r(63523),d=r(20081).Z,m=r(46746),h=r(8535),u=r(40702).Z,p=r(4756).Z,_=r(37681).Z,E=r(16400).default,g=r(33566),R=r(45435).Z;r(93706);class Index extends a.PureComponent{componentDidCatch(e,t){s(e,t)}render(){return a.createElement("div",{className:"Index"},a.createElement(u,null),a.createElement(h,{className:"Index__block"}),a.createElement(m,null),a.createElement("div",{className:"Index__block Index__big"},a.createElement(l,{place:c.BRAND})),a.createElement(_,{className:"Index__block",contextPage:i.PAGE_MAIN,section:o.ALL}),a.createElement(g,null),a.createElement(E,null),a.createElement(d,null),a.createElement(R,null),a.createElement(p,null))}}var I,T,S;I=Index,T="contextTypes",S={hasExperiment:n.func.isRequired},T in I?Object.defineProperty(I,T,{value:S,enumerable:!0,configurable:!0,writable:!0}):I[T]=S,e.exports=Index},62824:(e,t,r)=>{const s=r(18146),n=r(87363),a=r(23615),{connect:i}=r(32373),o=r(98784),l=r(36886),c=r(13248),d=r(66152),m=r(51973),h=r(65055),{isVAZ:u,sortMarks:p,sortPopularMarks:_}=r(97646),E=r(81464),g=["VAZ","FORD","BMW","MERCEDES","TOYOTA","VOLKSWAGEN","AUDI","HYUNDAI","KIA","MITSUBISHI"],R=g.length,I=["VAZ","BMW","TOYOTA","MERCEDES","VOLKSWAGEN","KIA","AUDI","HYUNDAI","NISSAN","FORD","MITSUBISHI","CHEVROLET","SKODA","RENAULT"];r(1015);class IndexMarks extends n.PureComponent{componentDidCatch(e,t){s(e,t)}constructor(e,t){super(e,t);const r=t.hasExperiment("AUTORUFRONT-24475_short_marks"),s=t.hasExperiment("AUTORUFRONT-24475_short_marks_without_logo");r||s?this.prepareShortMarks():this.prepareMarks()}prepareMarks(){this.marks=p([].concat(this.props.marks));const e=this.props.cols*this.props.popularRows-1;let t,r=[];this.marksWithCount=[],this.marksWithoutCount=[],this.marks.forEach((e=>{e.count>0?this.marksWithCount.push(e):this.marksWithoutCount.push(e),(e.count>0||u(e))&&r.push(e)})),t=r.length>=R?[].concat(r):r.concat(this.marks.filter((e=>g.includes(e.id)&&!r.find((t=>t.id===e.id))))),this.superPopularMarks=_(t,R),r.length<e&&(r=this.marks.filter((e=>e.popular||u(e)))),this.popularMarks=_(r,e),this.unpopularMarks=o.difference(this._marks,this._popularMarks)}prepareShortMarks(){this.marks=p([].concat(this.props.marks)),this.popularMarks=[],this.marksWithCount=[],this.marksWithoutCount=[];const e=[];let t;I.forEach((e=>{const t=this.marks.find((t=>t.id===e));t&&this.popularMarks.push(t)})),this.marks.forEach((t=>{t.count>0?this.marksWithCount.push(t):this.marksWithoutCount.push(t),(t.count>0||u(t))&&e.push(t)})),t=e.length>=R?[].concat(e):e.concat(this.marks.filter((t=>g.includes(t.id)&&!e.find((e=>e.id===t.id))))),this.superPopularMarks=_(t,R)}render(){const e=this.context.hasExperiment("AUTORUFRONT-24475_short_marks_without_logo");let t;return t=this.props.showAllMarks?this.marksWithoutCount.length>0?n.createElement(n.Fragment,null,n.createElement("div",{className:"IndexMarks__marks-with-counts"},this.renderMarks(this.marksWithCount)),n.createElement("div",{className:"IndexMarks__marks-without-counts"},n.createElement("div",{className:"IndexMarks__marks-without-counts-title"},"Марки без объявлений в каталоге"),this.renderMarks(this.marksWithoutCount)),n.createElement(m,{onClick:this.props.onCollapseClick,className:"IndexMarks__collapse"},"Свернуть",n.createElement(d,{className:"IndexMarks__collapse-icon",id:E}))):this.renderMarks(this.marks):this.renderMarks(this.popularMarks),n.createElement("div",{className:"IndexMarks","data-nosnippet":!0},e?null:this.renderSuperPopularMarks(),t)}renderMarks(e){const t=this.props.marksCounts;return h(e,this.props.cols).map(((e,r)=>{const s=e.map((e=>{let r,s,a="IndexMarks__item";r=e.count?this.getMarkUrl(e.id):this.context.link("catalog-model-listing",{mark:e.id});const i=t[e.id];return i>0?s=n.createElement("div",{className:"IndexMarks__item-count"},i):e.count&&(a+=" IndexMarks__item_no-count"),n.createElement(l,{className:a,key:e.id,url:r,metrika:`mark-click,${e.id}`},n.createElement("div",{className:"IndexMarks__item-name"},e.name),s)}));return this.props.showAllMarks||r!==this.props.cols-1||s.push(n.createElement("div",{className:"IndexMarks__show-all",onClick:this.props.onShowAllMarksClick,key:"show-all"},"Все марки",n.createElement("div",{className:"IndexMarks__show-all-icon"}))),n.createElement("div",{className:"IndexMarks__col",key:r},s)}))}renderSuperPopularMarks(){const e=this.superPopularMarks.map((e=>{const t=this.getMarkUrl(e.id);return n.createElement(c,{key:e.id,item:e,url:t})}));return n.createElement("div",{className:"IndexMarks__super-marks"},e)}getMarkUrl(e){const{creditGroup:t,priceFrom:r,priceTo:s,section:n="all"}=this.props,a=o.chain({category:"cars",on_credit:Boolean(t),mark:e,price_from:r,price_to:s,section:n}).pickBy(o.identity).pickBy(Boolean).value();return this.context.link("listing",a)}}IndexMarks.contextTypes={link:a.func,hasExperiment:a.func};e.exports=i((function(e){return{marks:e.indexBreadcrumbs.marks}}))(IndexMarks)},46746:(e,t,r)=>{const s=r(18146),n=r(87363),a=r(23615),{connect:i}=r(32373),o=r(90811),l=r(37120),c=r(66457),d=r(54167),m=r(36979);r(78109);class IndexSearchHistory extends n.PureComponent{componentDidCatch(e,t){s(e,t)}render(){if(!this.props.history.length)return null;const e=this.props.history.map(((e,t)=>this.renderSearchHistoryItem(e,t)));return n.createElement("div",{className:"Index__block IndexSearchHistory"},n.createElement(m,{dir:"horizontal",minCount:2,initialOffset:0,title:n.createElement("div",{className:"IndexSearchHistory__title"},"Последние поиски")},e))}renderSearchHistoryItem(e,t){const r=this.props.subscriptions[t];return n.createElement(o,{className:"IndexSearchHistory__item",key:t,subscriptionButton:n.createElement(l,{subscription:r,params:e.params,hasText:!1}),itemDescription:n.createElement(c,{index:t,item:e})})}}IndexSearchHistory.contextTypes={link:a.func,metrika:a.object};const h=r(82599);e.exports=i((function(e){const t=e.indexSearchHistory||[],r=h(e);return{history:t,subscriptions:t.map((e=>{const t=d(e.params);return r.find((e=>d(e.data.params)===t))}))}}))(IndexSearchHistory)},90811:(e,t,r)=>{const s=r(18146),n=r(87363);r(34822);class IndexSearchHistoryItem extends n.PureComponent{componentDidCatch(e,t){s(e,t)}render(){const{itemDescription:e,subscriptionButton:t}=this.props;return n.createElement("div",{className:"IndexSearchHistoryItem"},n.createElement("div",{className:"IndexSearchHistory__item-description"},e),n.createElement("div",{className:"IndexSearchHistory__item-button"},t))}}e.exports=IndexSearchHistoryItem},8535:(e,t,r)=>{const s=r(18146);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r(14078);const a=r(87363),i=r(23615),o=r(60042),{connect:l}=r(32373),c=r(98784),d=r(83229),m=r(39149).Z,h=r(14561).Z,u=r(98442).Z,p=r(66152),_=r(66152),E=r(18100),g=r(62824),R=r(64787).Z,I=r(8018).Z,T=r(37657),S=r(22480),x=r(66349),C=r(97828),N=r(90510),f=r(91310),k=r(54862),v=r(76309),A=r(76553),b=r(32753),P=r(13651),O=r(55818).ZP,L=r(72356).Z,w=r(39271).Z,M=r(51254).Z,y=r(24788).Z,F=r(16847).Z,D=r(67841).Z,B=r(20953).Z,U=r(49624).Z,Z=r(28610),W="index-selector-tab",{nbsp:G}=r(25341),V=r(25280),z="marks",H="wizard",j={ALL:"all",NEW:"new",USED:"used"},J=["bottom-center","top-center","right-center","left-center"];r(93706),r(26556);const $=E.BODY_TYPES,K=[{id:"seat",icon:r(71622),title:"Вместительный",text:`От${G}5${G}мест,<br/>багажник от${G}500${G}л`,params:{catalog_equipment:"seats-5,seats-6,seats-7,seats-8,seats-9,third-row-seats",trunk_volume_from:500}},{id:"offroad",icon:r(33620),title:"Проходимый",text:`Клиренс от${G}20${G}см,<br/>полный привод`,params:{clearance_from:200,gear_type:"ALL_WHEEL_DRIVE"}},{id:"gas",icon:r(5149),title:"Экономичный",text:`Расход до${G}7${G}л в${G}смешанном цикле`,params:{fuel_rate_to:7}},{id:"speed",icon:r(93778),title:"Быстрый",text:`Менее 7${G}секунд до${G}100${G}км/ч`,params:{acceleration_to:7}}],Y=["wizard","show"];class IndexSelector extends a.PureComponent{componentDidCatch(e,t){s(e,t)}constructor(e,t){super(e,t),n(this,"renderCreditCheckboxWithTooltips",(()=>{const{creditGroup:e,section:t}=this.state;return t===j.NEW?null:a.createElement(h,{creditGroupValue:e},this.renderCreditCheckbox())})),n(this,"renderCreditCheckbox",(()=>{const{showCreditPopup:e}=this.props,{creditGroup:t}=this.state;return a.createElement(m,{className:"IndexSelector__creditFilter",onChange:this.onChangeCreditGroup,onFocusChange:e,size:S.SIZE.L,value:t})})),n(this,"onChangeCreditGroup",(e=>{this.setState({creditGroup:e},(()=>{this.sendMetrikaCreditChangenClick(e),this.updateCounts()}))})),n(this,"shouldShowShortPofferForm",(()=>{const{isDealer:e,isReseller:t}=this.props,{hasExperiment:r}=this.context;return r("AUTORUFRONT-24284_index_short_poffer")&&!t&&!e})),n(this,"onCollapseClick",(()=>{this.setState({showAllMarks:!1}),window.scrollTo({behavor:"instant",top:0})})),n(this,"handleCreditApplicationCreated",(()=>{window.location=this.context.link("my-credits-draft")})),this.tabs=[[z,"Марки"],[H,"Помощник"]];const r=this.tabs.some((([e])=>e===this.props.cookieTab))?this.props.cookieTab:z;this.sliderItems=k,this.minSliderPrice=this.sliderItems[0].value,this.maxSliderPrice=this.sliderItems[this.sliderItems.length-1].value,this.state={showAllMarks:!1,tab:r,section:j.ALL,count:this.props.count,listingGeoRadiusCounters:this.props.listingGeoRadiusCounters,marksCounts:this.props.marksCounts,bodyType:$.map((e=>e.id)),presets:[],creditGroup:!1,priceFrom:this.minSliderPrice,priceTo:this.maxSliderPrice},this.onBodyTypeClick=this.onBodyTypeClick.bind(this),this.onChangeCreditGroup=this.onChangeCreditGroup.bind(this),this.onPresetClick=this.onPresetClick.bind(this),this.onPriceChange=this.onPriceChange.bind(this),this.onSectionChange=this.onSectionChange.bind(this),this.onShowAllMarksClick=this.onShowAllMarksClick.bind(this),this.onSubmitClick=this.onSubmitClick.bind(this),this.onTabChange=this.onTabChange.bind(this)}componentDidMount(){const{metrika:e}=this.context;this.shouldShowExclusiveBlock()&&e.sendPageEvent(["exclusive","shows"]),this.state.tab===H&&e.sendPageEvent(Y)}render(){const{className:e}=this.props,{hasExperiment:t}=this.context,r=t("AUTORUFRONT-24475_short_marks"),s=t("AUTORUFRONT-24475_short_marks_without_logo");return a.createElement("div",{className:o("IndexSelector",e,{IndexSelector_shortMarks:r,IndexSelector_shortMarksWithoutLogo:s})},this.renderLeft(),this.renderRight())}renderLeft(){const{section:e,tab:t}=this.state,r=this.shouldShowShortPofferForm();let s;s=t===z?a.createElement(a.Fragment,null,a.createElement("div",{className:"IndexSelector__topControls"},a.createElement("div",{className:"IndexSelector__sections"},a.createElement(f,{onChange:this.onSectionChange,value:e})),this.renderCreditCheckboxWithTooltips(),this.renderTabs()),this.renderMarks(),this.renderFooter()):a.createElement(a.Fragment,null,a.createElement("div",{className:"IndexSelector__topControls"},a.createElement("div",{className:"IndexSelector__sections"},a.createElement(f,{onChange:this.onSectionChange,value:e})),this.renderCreditCheckboxWithTooltips(),this.renderTabs()),this.renderWizard(),this.renderFooter());const n=o("IndexSelector__left",{IndexSelector__left_withShortPoffer:r});return a.createElement("div",{className:n},this.renderTitle(),a.createElement("div",{className:"IndexSelector__colContent"},s))}renderRight(){if(this.shouldShowShortPofferForm())return a.createElement(I,{className:"IndexSelector__right IndexSelector__right_withShortPoffer"});const{showAllMarks:e}=this.state,{hasExperiment:t}=this.context,r=t("AUTORUFRONT-24475_short_marks"),s=t("AUTORUFRONT-24475_short_marks_without_logo");if(r||s){const e=s?2:3;return a.createElement("div",{className:"IndexSelector__right"},a.createElement(T,{className:"IndexSelector__journal",classNameTitle:"IndexSelector__journalTitle",classNameContent:"IndexSelector__journalContent",maxVisibleArticles:e,showSubtitle:s}))}return a.createElement(T,{className:"IndexSelector__right",classNameContent:e?void 0:"IndexSelector__colContent",classNameTitle:"IndexSelector__titleRow"})}renderTitle(){const{count:e,exclusiveOffersNum:t,geoSource:r,promoTeaser:s,singleGeoNameInPrepositional:n}=this.props,{link:i}=this.context,{section:l}=this.state,d=this.shouldShowExclusiveBlock(),m=[l===j.NEW?"Новые легковые":"Легковые","автомобили","cookies"===r?"":n].filter(Boolean).join(" ");return a.createElement("div",{className:"IndexSelector__titleRow"},a.createElement("div",{className:"IndexSelector__titleBlock"},a.createElement("div",{className:o("Index__title",{IndexSelector__title:d})},a.createElement("a",{className:"Index__title-link",href:i("listing",{category:"cars",section:l,from:"index"})},a.createElement("h1",{className:"Index__title-h1"},m))),d&&a.createElement("div",{className:"IndexSelector__exclusive"},a.createElement("span",{className:"IndexSelector__exclusive-text"},`${O(e,"offer")},\n                                        из них ${O(t,"placed")} только на Авто.ру`),a.createElement(u,{directions:J,isGeneralBlock:!0},a.createElement(p,{id:V,className:"IndexSelector__exclusiveIcon"})))),!c.isEmpty(s)&&a.createElement("div",{className:"IndexSelector__bannerWrapper"},a.createElement("div",{className:"IndexSelector__banner"},a.createElement(R,{teaser:s}))))}renderWizard(){const{bodyType:e,presets:t}=this.state;return a.createElement(a.Fragment,null,a.createElement("div",{className:"IndexSelector__bodyTypes"},a.createElement(E,{onClick:this.onBodyTypeClick,selected:e})),a.createElement("div",{className:"IndexSelector__presets"},K.map((e=>a.createElement("div",{className:o("IndexSelector__preset",t.includes(e.id)&&"IndexSelector__preset_selected"),onClick:this.onPresetClick,"data-id":e.id,key:e.id},a.createElement("div",{className:"IndexSelector__presetTitle"},e.title),a.createElement("div",{className:"IndexSelector__presetText",dangerouslySetInnerHTML:{__html:e.text}}),a.createElement(_,{id:e.icon,className:"IndexSelector__presetIcon"}))))))}renderTabs(){return a.createElement("div",{className:"IndexSelector__tabs"},a.createElement(C,{size:C.SIZE.M,type:C.TYPE.BUTTON,value:this.state.tab,onChange:this.onTabChange,equal:C.EQUAL.PADDING},this.tabs.map((([e,t])=>a.createElement(x,{key:e,value:e},t)))))}sendMetrikaCreditChangenClick(e){this.context.metrika.sendPageEvent(["cars","listing","filter","credit_checked",String(e)])}renderMarks(){const{section:e=j.ALL}=this.state,{hasExperiment:t}=this.context,r=this.state.priceFrom!==this.minSliderPrice?this.state.priceFrom:void 0,s=Boolean(this.state.creditGroup),n=this.state.priceTo!==this.maxSliderPrice?this.state.priceTo:void 0,i=t("AUTORUFRONT-24475_short_marks"),o=t("AUTORUFRONT-24475_short_marks_without_logo"),l=i||o;return a.createElement("div",{className:"IndexSelector__marks"},a.createElement(g,{cols:5,popularRows:l?3:7,marksCounts:this.state.marksCounts,creditGroup:s,priceFrom:r,priceTo:n,section:e,showAllMarks:this.state.showAllMarks,onShowAllMarksClick:this.onShowAllMarksClick,onCollapseClick:this.onCollapseClick}))}renderSubmit(){const{hasExperiment:e}=this.context,{count:t,listingGeoRadiusCounters:r}=this.state;let s;const n=w(r,t),i=e("AUTORUFRONT-19905_listing_link")||e("AUTORUFRONT-19905_listing_button")||e("AUTORUFRONT-19905_left_link")||e("AUTORUFRONT-19905_left_button"),o=n&&i;s=0===t?"Ничего не найдено":t>0?"Показать "+O(t,"offer"):"Найти объявления";let l=s;return o&&(l=a.createElement("div",null,a.createElement("div",null,s),a.createElement("div",null,n))),a.createElement(d,{size:d.SIZE.L,color:d.COLOR.BLUE,width:d.WIDTH.FULL,onClick:this.onSubmitClick,multiline:Boolean(o)},l)}renderFooter(){return a.createElement("div",{className:"IndexSelector__bottomControls"},a.createElement("div",{className:"IndexSelector__price"},a.createElement(N,{items:this.sliderItems,fromLabelPrefix:"от ",toLabelPrefix:"до ",onChange:this.onPriceChange})),a.createElement("div",{className:"IndexSelector__submit"},this.renderSubmit()))}shouldShowExclusiveBlock(){if(0===this.props.count)return!1;return this.props.exclusiveOffersNum/this.props.count>.05}onTabChange(e){this.setState({tab:e},(()=>{this.updateCounts()})),e===H&&this.context.metrika.sendPageEvent(Y),this.props.dispatch(B(W,e,{expires:365}))}sendMetrikaSectionClick(){const{section:e}=this.state,t=["index-selector-click",e];this.context.metrika.sendPageEvent(t)}onSectionChange(e){this.setState({section:e},(()=>{this.sendMetrikaSectionClick(),this.updateCounts()}))}onBodyTypeClick(e){const t=e.currentTarget.getAttribute("data-id");let r;if(this.state.bodyType.length===$.length)r=[t];else{const e=this.state.bodyType.indexOf(t);r=[].concat(this.state.bodyType),-1!==e?r.splice(e,1):r.push(t)}0===r.length&&(r=$.map((e=>e.id))),this.setState({bodyType:r},(()=>this.updateCounts()))}onPresetClick(e){const t=e.currentTarget.getAttribute("data-id");this.setState((e=>{const r=e.presets.indexOf(t),s=[].concat(e.presets);return-1!==r?s.splice(r,1):s.push(t),{presets:s}}),(()=>this.updateCounts()))}onPriceChange(e){this.setState({priceFrom:e.from,priceTo:e.to},(()=>this.updateCounts()))}onShowAllMarksClick(){this.setState({showAllMarks:!0})}onSubmitClick(){const{section:e="all",tab:t}=this.state,r=this.getListingParams(),s=Object.assign({category:"cars",section:e},r,{state_group:null});t===H&&(s.from="old_guru");const n=[t,Z(r,"send")];this.context.metrika.sendPageEvent(n);const a=c.chain(s).pickBy(c.identity).pickBy(Boolean).value(),i=this.context.link("listing",a);window.location.href=i}updateCounts(){const e=this.getListingParams(),t=this.timestamp=Date.now();v.getResource("getListingLocatorCountersTotalCount",e).then((e=>{this.setState({listingGeoRadiusCounters:e})})),v.getResource("getIndexCounts",e).then((e=>{if(t!==this.timestamp)return;const r={count:e.count};this.state.tab===z&&(r.marksCounts=e.marks),this.setState(r)}))}getListingParams(){const{creditGroup:e,section:t,tab:r}=this.state,s={state_group:t.toUpperCase()};if(t!==j.NEW&&(s.on_credit=Boolean(e)),this.state.priceFrom!==this.minSliderPrice&&(s.price_from=this.state.priceFrom),this.state.priceTo!==this.maxSliderPrice&&(s.price_to=this.state.priceTo),r===H){if(this.state.bodyType.length>0&&this.state.bodyType.length<$.length){let e=[];this.state.bodyType.forEach((t=>{const r=$.find((e=>e.id===t));r&&(e=e.concat(r.value||r.id))})),s.body_type_group=e}K.forEach((e=>{this.state.presets.includes(e.id)&&Object.assign(s,e.params)}))}return s}resetSearchParams(){const e=this.props.dispatch(D());this.fetchListingData(e)}}function q(e){const t={};return e.forEach((e=>{t[e.id]=e.count})),t}IndexSelector.defaultProps={exclusiveOffersNum:0},IndexSelector.contextTypes={link:i.func,metrika:i.object,hasExperiment:i.func};const X=r(90017).Z;e.exports=l((function(e){var t,r;return{cookieTab:X(e,W),count:e.indexBreadcrumbs.count,exclusiveOffersNum:e.indexBreadcrumbs.exclusiveOffersNum,geoSource:b(e),listingGeoRadiusCounters:L(e),marksCounts:q(e.indexBreadcrumbs.marks),pendingCount:P(e),singleGeoNameInPrepositional:A(e),teaser:e.indexTeasers.main,promoTeaser:e.teaser,creditProducts:null===(t=M(e))||void 0===t||null===(r=t.data)||void 0===r?void 0:r.credit_products,isDealer:F(e),isReseller:y(e)}}),(e=>({showCreditPopup:t=>e(U(t)),dispatch:e})))(IndexSelector)},8018:(e,t,r)=>{"use strict";r.d(t,{Z:()=>x});r(14078);var s=r(87363),n=r.n(s),a=r(60042),i=r.n(a),o=r(83225),l=r(25341),c=r(14151),d=r(81258),m=r.n(d),h=r(65151),u=r.n(h),p=r(83229),_=r.n(p),E=r(76309),g=r.n(E);var R=r(85676),I=r(25453),T=r(18051),S=r.n(T);const x=(0,o.withRouter)((({className:e,router:t})=>{const{link:r,metrika:s}=n().useContext(c.Z),a=n().useRef({}),[o,d]=n().useState(""),[h,p]=n().useState(""),[E,T]=n().useState(""),[x,C]=n().useState(!1),N=r("form",{category:I.l.CARS,section:I.j.USED,form_type:"add"});n().useEffect((()=>{s.sendPageEvent(["SHORT_FORM","MAIN_PAGE","SHOW"])}),[]);const f=n().useCallback((()=>{C(!0),s.sendPageEvent(["SHORT_FORM","MAIN_PAGE","PUBLISH"]),g().getResource("getDraftPublicApi",{parent_category:I.l.CARS}).then((e=>{const r=(s=e.offer,null===(n=s.vehicle_info)||void 0===n?void 0:n.mark_info);var s,n;const a=(0,R.Z)(e.offer),i=`У вас есть сохраненный черновик объявления с ${null==r?void 0:r.name} ${null==a?void 0:a.name}. Хотите его восстановить?`;if(null!=a&&a.name&&window.confirm(i))return void t.push(N);const l={};h.length>=11?l.vin=h:h.length>5&&h.length<=10&&(l.license_plate=h);const c={draft:{price_info:{price:E||void 0,currency:"RUR",with_nds:!1},state:{mileage:o||void 0,condition:"CONDITION_OK"},documents:l},offer_id:e.offer_id,parent_category:I.l.CARS};return g().getResource("saveDraftFormsToPublicApi",c)})).then((e=>{null!=e&&e.offer_id&&t.push(N)})).catch((()=>{t.push(N)}))}),[h,N,t,E,o,s]),k=n().useCallback(((e,t)=>{t.value&&t.name&&!a.current[t.name]&&(s.sendPageEvent(["SHORT_FORM","MAIN_PAGE",t.name.toLocaleUpperCase()]),a.current[t.name]=!0)}),[s]);return n().createElement("div",{className:i()(S().root,e)},n().createElement("div",{className:S().title},"Создайте объявление за",l.nbsp,n().createElement("span",{className:S().title_highlighted},"5 минут")),n().createElement("div",{className:S().subtitle},"Объявление увидят 3 000 000 человек ежедневно"),n().createElement(m(),{className:S().field,width:m().WIDTH.FULL,radius:m().RADIUS.R12,color:m().COLOR.GREY,placeholder:"Госномер/VIN",size:m().SIZE.L,valueProcessor:n().useCallback((e=>e.toUpperCase()),[]),name:"identifier",onChange:p,value:h,maxLength:17,onBlur:k}),n().createElement(u(),{className:S().field,width:m().WIDTH.FULL,radius:m().RADIUS.R12,color:m().COLOR.GREY,placeholder:"Пробег",size:m().SIZE.L,name:"mileage",inputMode:"numeric",valueBlurSuffix:"км",onChange:d,value:o,maxLength:7,onBlur:k}),n().createElement(u(),{className:S().field,width:m().WIDTH.FULL,radius:m().RADIUS.R12,color:m().COLOR.GREY,placeholder:"Цена",name:"price",size:m().SIZE.L,valueBlurSuffix:"₽",maxLength:11,onChange:T,value:E,onBlur:k}),n().createElement(_(),{color:_().COLOR.BLACK,radius:_().RADIUS.R12,width:_().WIDTH.FULL,size:_().SIZE.L,onClick:f,disabled:x},"Разместить бесплатно"))}))},37120:(e,t,r)=>{r(2913);const s=r(87363),{connect:n}=r(32373),a=r(70131),i=r(97584).Z,o=r(89128),l=r(60042);const c=r(86848),d=r(74741);e.exports=n(null,((e,t)=>({onCreateSubscription:r=>{const s=Object.assign({},t.params);return"rid"in s||(s.rid="",s.geo_radius=""),r?e(c(s)).then((()=>e(d({email:r})))):e(c(s))}})))(class IndexSubscriptionButton extends a{renderButton(){const{subscription:e}=this.props;return s.createElement(i,{tooltipContent:e?"Поиск сохранён":"Сохранить поиск"},s.createElement("div",{className:l("IndexSubscriptionButton",{IndexSubscriptionButton_active:Boolean(e)})},s.createElement(o,{subscription:e,hasText:!1,buttonTextColor:e?void 0:"white"})))}})},36886:(e,t,r)=>{const s=r(18146),n=r(87363),a=r(23615);class MetrikaLink extends n.PureComponent{componentDidCatch(e,t){s(e,t)}constructor(e){super(e),this.onClick=this.onClick.bind(this)}render(){return n.createElement("a",{className:this.props.className,href:this.props.url,title:this.props.title,onClick:this.onClick,target:this.props.target},this.props.children)}onClick(e){this.props.metrika&&this.context.metrika.sendPageEvent(this.props.metrika.split(",")),this.props.metrikaParams&&this.context.metrika.sendParams(this.props.metrikaParams.split(",")),this.props.onClick&&this.props.onClick(e)}}MetrikaLink.contextTypes={metrika:a.object},e.exports=MetrikaLink},37657:(e,t,r)=>{const s=r(18146),n=r(87363),a=r(23615),i=r(60042),{connect:o}=r(32373),l=r(20696),c=r(51973),d=r(44845),m=r(72365).Z;r(41544);class JournalTeaser extends n.PureComponent{componentDidCatch(e,t){s(e,t)}render(){const{className:e,classNameContent:t,classNameTitle:r,journal:s,maxVisibleArticles:a,showSubtitle:o=!0,teaserData:l}=this.props;return s&&0!==l.length?n.createElement("div",{className:i("JournalTeaser",e)},n.createElement("div",{className:i("JournalTeaser__titleRow",r)},n.createElement("h2",{className:"JournalTeaser__heading"},n.createElement(c,{className:"JournalTeaser__headingLink",url:m("mag-index",{utm_content:"block-mag-title",utm_campaign:"glavnaya_top",from:"banner"}),metrikaParams:"journal_blocks,glavnaya_top,block-mag-title,clicks"},"Журнал")),o&&n.createElement("div",{className:"JournalTeaser__subtitle"},"Новости, обзоры, статьи")),n.createElement("div",{className:i("JournalTeaser__content",t)},n.createElement(d,{data:l,maxVisibleArticles:a}))):null}componentDidMount(){const{journal:e}=this.props,{metrika:t}=this.context;e&&t.sendParams(["journal_blocks","glavnaya_top","block-mag-title","shows"])}}JournalTeaser.contextTypes={hasExperiment:a.func.isRequired,metrika:a.object.isRequired};e.exports=o((e=>({journal:e.journalWidget,teaserData:l(e)})))(JournalTeaser)},44845:(e,t,r)=>{const s=r(18146);r(14078);const n=r(87363),a=r(23615),i=r(51973),o=r(83229),l=r(72365).Z,c=r(60042),d=1e4,m=3e4,h=4;r(36879);class JournalTeaserListOfArticles extends n.PureComponent{componentDidCatch(e,t){s(e,t)}constructor(){super(...arguments),this.renderArticle=this.renderArticle.bind(this),this.state={queue:this.props.data.map(((e,t)=>({...e,key:t})))}}render(){const{maxVisibleArticles:e=h}=this.props,{queue:t}=this.state,r=e+2;if(t.length<r)return null;const s=t.filter(((e,t)=>t<r));return n.createElement("div",{className:"JournalTeaserListOfArticles"},n.createElement("ul",{className:"JournalTeaserListOfArticles__list"},s.map(((t,r)=>this.renderArticle(t,r,e)))),n.createElement(o,{className:"JournalTeaserListOfArticles__button",color:"transparentBlackBlue",type:o.TYPE.LINK,size:o.SIZE.L,width:o.WIDTH.FULL,url:l("mag-index",{utm_content:"block-mag-read-more",utm_campaign:"glavnaya_top",from:"banner"}),metrikaParams:"journal_blocks,glavnaya_top,block-mag-read-more,clicks"},"Все материалы"))}componentDidMount(){const{data:e}=this.props,{metrika:t}=this.context;e.map(((e,r)=>{t.sendParams(["journal_blocks","glavnaya_top",e.id,"shows",r+1])})),t.sendParams(["journal_blocks","glavnaya_top","block-mag-read-more","shows"]),this.timeout=setTimeout((()=>{this.showNext()}),d)}componentWillUnmount(){clearTimeout(this.timeout)}showNext(){const{queue:e}=this.state,t=[e.pop()].concat(e);this.setState({queue:t}),this.timeout=setTimeout((()=>{this.showNext()}),m)}renderArticle(e,t,r){const s=!(0===t||t>r),a=l("mag-article",{article_id:e.id,utm_content:e.id,utm_campaign:"glavnaya_top",from:"banner"});return n.createElement("li",{className:c("JournalTeaserListOfArticles__article",s?"JournalTeaserListOfArticles__article_visible":"JournalTeaserListOfArticles__article_invisible"),key:e.key},n.createElement(i,{className:"JournalTeaserListOfArticles__link",color:i.COLOR.BLACK,disableSpa:!0,url:a,metrikaParams:`journal_blocks,glavnaya_top,${e.id},clicks,${t+1}`},n.createElement("img",{className:"JournalTeaserListOfArticles__preview",alt:e.title,src:e.src}),n.createElement("span",{className:"JournalTeaserListOfArticles__text"},e.title)))}}JournalTeaserListOfArticles.contextTypes={hasExperiment:a.func.isRequired,metrika:a.object.isRequired},e.exports=JournalTeaserListOfArticles},88166:(e,t,r)=>{const s=r(18146),n=r(87363),a=r(23615),i=r(63336),o=r(55941).Z;class PageIndex extends n.PureComponent{componentDidCatch(e,t){s(e,t)}constructor(e,t){super(e,t),this.logVasEvent=new o(t.metrika,{category:"cars"}).logVasEvent}render(){return n.createElement("div",{className:"PageIndex"},n.createElement(i,null))}getChildContext(){return{logVasEvent:this.logVasEvent}}}PageIndex.contextTypes={metrika:a.object.isRequired},PageIndex.childContextTypes={logVasEvent:a.func},e.exports=PageIndex},37681:(e,t,r)=>{"use strict";r.d(t,{Z:()=>Se});var s=r(87363),n=r.n(s),a=r(60042),i=r.n(a),o=r(70928),l=r(32373),c=r(36520),d=r(76651),m=r(22509);function h(e){return e.personalizedFeed.isPending}function u(e){var t,r;return null===(t=e.personalizedFeed)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.pagination}function p(e){var t,r;return null===(t=e.personalizedFeed)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.items}function _(e){var t;return(null===(t=e.personalizedFeed)||void 0===t?void 0:t.searchID)||""}var E=r(76309),g=r.n(E),R=r(38528);const I=e=>(t,r)=>{t({type:R.M.PERSONALIZED_FEED_PENDING});const s=(e=>e.personalizedFeed.lentaSessionId)(r());return g().getResource("getMixedPersonalizedOffersFeed",{...e,lenta_session_id:s}).then((e=>null!=e&&e.items?t({type:R.M.PERSONALIZED_FEED_RESOLVED,payload:e}):Promise.reject(e))).catch((e=>(t({type:R.M.PERSONALIZED_FEED_REJECTED}),Promise.resolve(e))))},T=e=>{var t,r;const{contextPage:s,state:a=[d.ZM.NEW,d.ZM.USED]}=e,i=(0,l.useSelector)(h),o=(0,l.useSelector)(u),E=(0,l.useSelector)(p),g=(0,l.useSelector)(_),T=(0,l.useDispatch)();n().useEffect((()=>{if(g){const e={search_show_event:{context_page:s,context_block:c.ContextBlock.BLOCK_LISTING,search_query_id:g}};m.Z.log(e)}}),[s,g]);const S=null!==(t=null==o?void 0:o.page_size)&&void 0!==t?t:20,x=null!==(r=null==o?void 0:o.page)&&void 0!==r?r:1,C=n().useCallback((e=>{var t;if(i||!e)return;const r={page_size:S,page:(null!==(t=null==o?void 0:o.page)&&void 0!==t?t:0)+1,state:a};T(I(r))}),[T,i,S,null==o?void 0:o.page,a]),N=o&&o.total_page_count>o.page,f=n().useRef(null),k=n().useCallback((()=>{var e;null==f||null===(e=f.current)||void 0===e||e.scrollIntoView();var t;T((t={page_size:S,page:1,state:a},e=>(e({type:R.M.PERSONALIZED_FEED_RESET}),e(I(t)))))}),[T,S,a]);return{loadMoreItems:C,items:E,searchID:g,page:x,hasMorePages:N,isLoading:i,resetAndFetch:k,titleRef:f}};var S=r(57108),x=r.n(S),C=r(90208),N=r(98784),f=r.n(N),k=r(19046),v=r(1185),A=r(51973),b=r.n(A),P=r(72365);const O=e=>{const{contextPage:t,index:r,page:s,post:a,searchID:i}=e,o=n().useCallback((e=>{e&&m.Z.log({journal_card_show:{context_page:t,context_block:c.ContextBlock.BLOCK_JOURNAL,self_type:c.SelfType.TYPE_JOURNAL,search_query_id:i,index:r,page:s,journal_article_id:a.url_part}})}),[t,r,s,a.url_part,i]);return{onClick:n().useCallback((()=>{m.Z.log({journal_card_click:{context_page:t,context_block:c.ContextBlock.BLOCK_JOURNAL,self_type:c.SelfType.TYPE_JOURNAL,search_query_id:i,journal_article_id:a.url_part}})}),[t,a.url_part,i]),onView:o,url:(0,P.Z)("mag-article",{article_id:a.url_part})}};var L=r(76956),w=r.n(L);const M=e=>{var t;const{className:r,isMobile:s,post:a}=e,l=null===(t=a.image)||void 0===t?void 0:t.sizes["320x320"],c=(0,k.JR)({image:a.image,width:320}),{onClick:d,onView:m,url:h}=O(e),u=i()(w().root,s&&w().root_mobile,r);return n().createElement(o.InView,{className:u,onChange:m,triggerOnce:!0},n().createElement(b(),{onClick:d,url:h,target:"_blank",rel:"opener"},n().createElement("div",{className:w().imageBox},l?n().createElement(v.Z,{src:l,srcSet:c,className:w().imageWrapper,classNameImage:w().image}):n().createElement("div",{className:w().imageWrapper},n().createElement("div",{className:i()(w().image,w().image_placeholder)})),n().createElement("div",{className:w().journalLogo})),n().createElement("div",{className:w().title},((e,t)=>f().truncate(e,{length:t?56:80,separator:/[.,:!? -]+/}))(a.title,s))))},y=n().memo(M);var F=r(66152),D=r.n(F),B=r(52400),U=r.n(B),Z=r(85112),W=r.n(Z),G=r(86527),V=r.n(G),z=r(43187),H=r(40793),j=r.n(H),J=r(9420),$=r.n(J);const K=e=>[j()(e),$()(e)].filter((e=>e)).join(" "),Y=e=>{var t,r,s;return null===(t=e.item)||void 0===t||null===(r=t.auto)||void 0===r||null===(s=r.super_gen)||void 0===s?void 0:s.year_from},q=e=>{var t,r,s;return null===(t=e.item)||void 0===t||null===(r=t.auto)||void 0===r||null===(s=r.super_gen)||void 0===s?void 0:s.year_to},X=e=>[Y(e),q(e)].filter((e=>e)).join("—");var Q=r(24829),ee=r.n(Q);const te=e=>{const{contextPage:t,index:r,page:s,review:a,searchID:i}=e,o=n().useCallback((e=>{e&&m.Z.log({review_card_show:{context_page:t,context_block:c.ContextBlock.BLOCK_REVIEWS,self_type:c.SelfType.TYPE_REVIEW,search_query_id:i,index:r,page:s,review_id:a.id}})}),[t,r,s,a.id,i]),l=n().useCallback((()=>{m.Z.log({review_card_click:{context_page:t,context_block:c.ContextBlock.BLOCK_REVIEWS,self_type:c.SelfType.TYPE_REVIEW,search_query_id:i,review_id:a.id}})}),[t,a.id,i]),d=K(a),h=X(a);return{onClick:l,onView:o,photo:(0,z.Z)(a),rating:W()(a.rating),subtitle:`${d} • ${h}`,url:ee()("review-card",V()(a))}};var re=r(23942),se=r.n(re);const ne=e=>{const{className:t,isMobile:r,review:s}=e,{onClick:a,onView:l,photo:c,rating:d,subtitle:m,url:h}=te(e),u=i()(se().root,r&&se().root_mobile,t);return n().createElement(o.InView,{className:u,onChange:l,triggerOnce:!0},n().createElement(b(),{onClick:a,url:h,target:"_blank",rel:"opener"},n().createElement("div",{className:se().imageBox},c?n().createElement(v.Z,{src:c["320x240"],className:se().imageWrapper,classNameImage:se().image}):n().createElement("div",{className:se().imageWrapper},n().createElement("div",{className:i()(se().image,se().image_placeholder)})),n().createElement("div",{className:se().ratingWrap},n().createElement(D(),{id:U(),className:se().ratingIcon,size:r?D().SIZE.SIZE_16:D().SIZE.SIZE_24}),n().createElement("div",{className:se().rating},d))),n().createElement("div",{className:se().title},s.title),n().createElement("div",{className:se().subtitle},m)))},ae=n().memo(ne);var ie=r(7884),oe=r.n(ie),le=r(99985),ce=r(14151),de=r(57010),me=r(70453);const he=[le.U_.IMAGE,le.U_.VIDEO],ue=e=>{const{className:t,isMobile:r}=e,{onClick:s,onView:a,snippetSrc:l,snippetSrcSet:c,title:d,url:m}=(e=>{var t,r,s;const{review:a}=e,{link:i}=n().useContext(ce.Z),o=a.content.find((e=>he.includes(e.type))),l=null==o||null===(t=o.content_value)||void 0===t||null===(r=t[0])||void 0===r?void 0:r.image_url,c=null==o||null===(s=o.video)||void 0===s?void 0:s.youtube_id;let d,m;l&&(d=l["320x240"],m=[[l["320x240"],"1x"].join(" "),[l["640x480"],"2x"].join(" ")].join(", ")),c&&(d=`https://i.ytimg.com/vi/${c}/mqdefault.jpg`,m=[[`https://i.ytimg.com/vi/${c}/mqdefault.jpg`,"1x"].join(" "),[`https://i.ytimg.com/vi/${c}/maxresdefault.jpg`,"2x"].join(" ")].join(", "));const h=i("garage-logbook-card",(0,de.Z)(a));return{snippetSrc:d,snippetSrcSet:m,onView:n().useCallback((()=>{}),[]),onClick:n().useCallback((()=>{}),[]),url:h,title:(0,me.Z)(a)}})(e),h=i()(oe().root,r&&oe().root_mobile,t);return n().createElement(o.InView,{className:h,onChange:a,triggerOnce:!0},n().createElement(b(),{onClick:s,url:m,target:"_blank",rel:"opener"},n().createElement("div",{className:oe().imageBox},l&&n().createElement(v.Z,{src:l,srcSet:c,className:oe().imageWrapper,classNameImage:oe().image}),n().createElement("div",{className:oe().logo},n().createElement("div",{className:oe().logbookLogo}),n().createElement("div",null,"Бортжурнал"))),n().createElement("div",{className:oe().title},((e,t)=>f().truncate(e,{length:t?56:80,separator:/[.,:!? -]+/}))(d,r))))},pe=n().memo(ue);var _e=r(88923);const Ee=e=>{const{className:t,contextPage:r,index:s,item:a,page:i,searchID:o}=e;return a.item_type===R.A.OFFER&&a.offer?n().createElement(_e.Z,{className:t,offer:a.offer,index:s,page:i,contextPage:r,contextBlock:c.ContextBlock.BLOCK_LISTING,searchID:o}):a.item_type===R.A.JOURNAL&&a.journal?n().createElement(y,{post:a.journal,className:t,contextPage:r,searchID:o,index:s,page:i}):a.item_type===R.A.REVIEW&&a.review?n().createElement(ae,{review:a.review,searchID:o,index:s,page:i,className:t,contextPage:r}):a.item_type===R.A.LOGBOOK&&a.logbook_old_model?n().createElement(pe,{review:a.logbook_old_model,searchID:o,index:s,page:i,className:t,contextPage:r}):null},ge=n().memo(Ee);var Re=r(56830),Ie=r.n(Re);const Te=e=>{const{className:t,contextPage:r}=e,{hasMorePages:s,isLoading:a,items:l,loadMoreItems:c,page:d,resetAndFetch:m,searchID:h,titleRef:u}=T(e),p=i()(Ie().root,t);return n().createElement("section",{className:p},n().createElement("h3",{className:Ie().title,ref:u},"Рекомендуем"),null==l?void 0:l.map(((e,t)=>n().createElement(ge,{item:e,index:t,page:d,className:Ie().item,contextPage:r,searchID:h,key:`personalized-feed-${t}`}))),s||a?n().createElement(o.InView,{className:Ie().loader,onChange:c,rootMargin:"700px 0px 700px 0px",trackVisibility:!0,delay:500},n().createElement(x(),null)):n().createElement(C.ZP,{className:Ie().reset,color:C.Il.BLACK,size:C.$u.M,onClick:m},"Обновить ленту"))},Se=n().memo(Te)},88923:(e,t,r)=>{"use strict";r.d(t,{Z:()=>D});var s=r(87363),n=r.n(s),a=r(60042),i=r.n(a),o=r(70928),l=r(91349),c=r(74282),d=r.n(c),m=r(33774),h=r.n(m),u=r(23070),p=r.n(u),_=r(37428),E=r.n(_),g=r(24507),R=r.n(g),I=r(82111),T=r(22025),S=r(88228);function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class PersonalizedFeedOfferItemAbstract extends T.Z{constructor(e){super(e),x(this,"updateViewedState",(()=>{var e;const t=(0,I.Z)();this.setState({isVisited:null!==(e=this.props.visited)&&void 0!==e?e:Boolean(t[(0,S.Z)(this.props.offer)])})})),x(this,"handleStorageUpdate",(e=>{e.storageArea===localStorage&&"autoru_viewed_offers"===e.key&&this.updateViewedState()})),x(this,"onVisibilityChange",(e=>{this.sendStatOnIntersectionChange(e)})),this.state={isVisited:!1}}componentDidMount(){this.updateViewedState(),window.addEventListener("storage",this.handleStorageUpdate)}componentWillUnmount(){window.removeEventListener("storage",this.handleStorageUpdate)}}const C=PersonalizedFeedOfferItemAbstract;var N=r(14034),f=r(51973),k=r.n(f),v=r(22587),A=r.n(v),b=r(11642),P=r(84182),O=r(25341);const L=1e6,w=(e,t)=>{const r=e/t;return r===Math.floor(r)?String(r):r.toFixed(1)};var M=r(86443),y=r(59027),F=r.n(y);const D=class PersonalizedFeedOfferItem extends C{render(){const{className:e,offer:t}=this.props,{isVisited:r}=this.state,s=h()(t),a=i()(F().root,r&&F().root_visited,e),{link:l}=this.context,c=l("card",(0,N.Z)(t));return n().createElement(o.InView,{onChange:this.onVisibilityChange,triggerOnce:!0,className:a},this.renderFavoriteButton(t),n().createElement(k(),{onClick:this.sendStatOnClick,url:c,target:"_blank",rel:"opener",className:F().link},n().createElement("div",{className:F().imageWrap},this.renderVisitedBadge(),this.renderDiscountInNewBadge(t),n().createElement("div",{className:F().image},this.renderImage(t))),this.renderPrice(t),this.renderTitle(s),this.renderInfo(t)))}renderVisitedBadge(){const{isVisited:e}=this.state;return e?n().createElement("span",{className:F().visitedBadge},"Просмотрено"):null}renderImage(e){return n().createElement(R(),{offer:e,hasExtended:!1,showCatalogPhotoBadge:!1,showPanoramaBadge:!1,showVideoBadge:!1,spinPanoramaOnScroll:!0,index:this.props.index,className:F().image})}renderPrice(e){const t=A()(e,{currency:l.F.RUR,withDiscountInUsed:!0});return 2!==t.length||(0,b.Z)(e)?2===t.length&&(0,b.Z)(e)?n().createElement("div",{className:F().price},d()(t[1].price.RUR)):n().createElement("div",{className:F().price},d()(t[0].price.RUR)):n().createElement("div",{className:F().price},n().createElement("span",null,d()(t[0].price.RUR)),n().createElement("span",{className:F().discount},d()(t[1].price.RUR)))}renderDiscountInNewBadge(e){const t=(e=>{const t=(0,P.Z)(e);if(!(0,b.Z)(e)||!t)return null;let r;return r=t>=L?w(t,L)+O.nbsp+"млн.":t>=1e3?w(t,1e3)+O.nbsp+"тыс.":String(t),"Скидки до"+O.nbsp+r+O.nbsp+"₽"})(e);return t?n().createElement("span",{className:F().discountBadge},t):null}renderTitle(e){return n().createElement("div",{className:F().title},e)}renderInfo(e){return n().createElement("div",{className:F().info},`${p()(e)} / ${E()(e)}`)}renderFavoriteButton(e){const{contextBlock:t,contextPage:r,index:s,searchID:a,withoutFavorite:i}=this.props;return i?null:n().createElement(M.Z,{offer:e,type:"block",iconType:"normal",className:F().favoriteButton,classNameIcon:F().favoriteIcon,hasTooltip:!1,withActiveColor:!1,index:s,contextPage:r,contextBlock:t,searchID:a})}}},64787:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var s=r(87363),n=r.n(s),a=r(51973),i=r.n(a),o=r(14151);const l=e=>{const{teaser:t}=e,{metrika:r}=n().useContext(o.Z),{image:a,imageRetina:l,teaserName:c,teaserSpec:d,url:m}=t,h=`teasers,${d},${c},click`;return(0,s.useEffect)((()=>{r.sendParams(["teasers",d,c,"show"])}),[]),n().createElement("div",{className:"Teaser__wrapper"},n().createElement(i(),{className:"Teaser__link",target:"_blank",metrikaParams:h,url:m},n().createElement("img",{className:"Teaser__image",height:"100%",width:"100%",src:a,srcSet:`${l} 2x`})))}},75986:()=>{},64647:()=>{},76956:e=>{e.exports={root:"PersonalizedFeedJournalItem-mUlGO",imageBox:"PersonalizedFeedJournalItem__imageBox-hPZ26",imageWrapper:"PersonalizedFeedJournalItem__imageWrapper-lYfBQ",root_mobile:"PersonalizedFeedJournalItem_mobile-sL_MG",image:"PersonalizedFeedJournalItem__image-7FUlP",image_placeholder:"PersonalizedFeedJournalItem__image_placeholder-njDbX",journalLogo:"PersonalizedFeedJournalItem__journalLogo-tbJ6v",title:"PersonalizedFeedJournalItem__title-FtFg6"}},7884:e=>{e.exports={root:"PersonalizedFeedLogbookItem-WqAHn",imageBox:"PersonalizedFeedLogbookItem__imageBox-ZdbmZ",imageWrapper:"PersonalizedFeedLogbookItem__imageWrapper-fFFRv",root_mobile:"PersonalizedFeedLogbookItem_mobile-vlW3Y",image:"PersonalizedFeedLogbookItem__image-NJVYe",logo:"PersonalizedFeedLogbookItem__logo-I3ed9",logbookLogo:"PersonalizedFeedLogbookItem__logbookLogo-qdOYh",title:"PersonalizedFeedLogbookItem__title-Ml4oX"}},23942:e=>{e.exports={root:"PersonalizedFeedReviewItem-GoLdc",imageBox:"PersonalizedFeedReviewItem__imageBox-svCtz",imageWrapper:"PersonalizedFeedReviewItem__imageWrapper-hwOen",root_mobile:"PersonalizedFeedReviewItem_mobile-zsdNQ",image:"PersonalizedFeedReviewItem__image-_Fkqq",image_placeholder:"PersonalizedFeedReviewItem__image_placeholder-cEydz",ratingWrap:"PersonalizedFeedReviewItem__ratingWrap-YiDAq",ratingIcon:"PersonalizedFeedReviewItem__ratingIcon-eS01K",rating:"PersonalizedFeedReviewItem__rating-o4quA",title:"PersonalizedFeedReviewItem__title-l7qM7",subtitle:"PersonalizedFeedReviewItem__subtitle-_0Al_"}},16361:()=>{},93706:()=>{},1015:()=>{},78109:()=>{},34822:()=>{},26556:()=>{},18051:e=>{e.exports={root:"IndexShortPofferForm-sAYbn",title:"IndexShortPofferForm__title-En4fD",title_highlighted:"IndexShortPofferForm__title_highlighted-gGj7D",subtitle:"IndexShortPofferForm__subtitle-foJol",field:"IndexShortPofferForm__field-x_Osa"}},2913:()=>{},41544:()=>{},36879:()=>{},56830:e=>{e.exports={root:"PersonalizedFeed-fh1tU",item:"PersonalizedFeed__item-V5M78",title:"PersonalizedFeed__title-JdXJ8",loader:"PersonalizedFeed__loader-UEVo6",reset:"PersonalizedFeed__reset-OAWfP"}},59027:e=>{e.exports={root:"PersonalizedFeedOfferItem-uS_6H",link:"PersonalizedFeedOfferItem__link-QP7F5",imageWrap:"PersonalizedFeedOfferItem__imageWrap-o7pEu",image:"PersonalizedFeedOfferItem__image-uCHdF",visitedBadge:"PersonalizedFeedOfferItem__visitedBadge-hfymv",discountBadge:"PersonalizedFeedOfferItem__discountBadge-P9J91",root_visited:"PersonalizedFeedOfferItem_visited-_xVXu",price:"PersonalizedFeedOfferItem__price-ywJjx",discount:"PersonalizedFeedOfferItem__discount-ImOtx",title:"PersonalizedFeedOfferItem__title-GUrwG",info:"PersonalizedFeedOfferItem__info-U90d3",favoriteButton:"PersonalizedFeedOfferItem__favoriteButton-Di8iI",favoriteIcon:"PersonalizedFeedOfferItem__favoriteIcon-D14YD"}},52400:e=>{e.exports="fat-star"},5149:e=>{e.exports="index-preset-gas"},33620:e=>{e.exports="index-preset-offroad"},71622:e=>{e.exports="index-preset-seat"},93778:e=>{e.exports="index-preset-speed"}}]);
//# sourceMappingURL=https://s3.mds.yandex.net/vertis-frontend-private/af-desktop/sourcemaps/index_b723be15b234ff086a59.js.map